그러면 발표 세션을 시작해볼게요.

첫 번째 발표는 파이썬 로깅, 끝까지 파보면서 내가 배운 것이라는 주제로 황현태 님이 발표해 주시겠습니다.

황현태 님에게 박수 부탁드립니다.

-함께: (박수)

-아아, 발표 시작하겠습니다.

지금 제가 공을 들인 슬라이드인데요.

팀 쿡님이 발표를 할 때 대기 시간에 이런 걸 틀어놓더라고요.

그래서 되게 공을 들여서 해놓은 슬라이드니까 조금 감상을 하고 넘어가도록 하겠습니다.

하여튼 오늘 노는 분위기라고 해서 편하게 발표를 할게요.

개발하고 나서 발표가 처음이라 긴장을 했는데... 앞에서 이렇게 긴장을 풀어주셨습니다.

오늘 발표할 내용은 파이썬 로깅, 끝까지 파보면서 내가 배운 것이라는 제목이고요.

저는 황현태라고 합니다.

-함께: (박수)

그리고 Github 유저 네임이 캔디팝라테입니다.

다들 모르시겠지만 언젠가는... 그렇습니다.

그리고 언젠가 파이콘에서 발표를 해보고 싶다는 염원으로 파이콘 색깔로 이렇게 해봤습니다.

슬라이드 쉐어 가면 조금 더 색깔이 파이콘스럽게 나올 테니까

먼저 제가 어떻게 삽질을 했는지에 대해서 공유를 하겠습니다.

HOW에 대해서 주로 말을 할 거고요.

어떤 삽질을 했는지에 대해서 간단하게 다루하겠습니다.

삽질을 어떻게 했는지 공유를 하겠습니다. 발표 순서는 저를 간단하게 소개하고요.

그리고 저의 삽질기를 공유하고 발표가 끝나면 QNA 시간이 있습니다.

간단하게 진행을 할 예정입니다.

먼저 저를 소개하겠습니다.

사실 이런 슬라이드 느낌도 되게 공을 들인 슬라이드거든요. 감동적으로

그래서 저를 소개해보겠습니다.

저는 공부하는 개발자라고 타이틀을 붙여봤는데요.

공부할 게 너무 많아요. 파이썬 장고를 시작한 지 2년 정도 됐는데 공부할 게 많아서 항상 공부를 하고 저는 혜움세무회계라는 세무 IT를 런칭한 곳에서 일을 했고 지금은 넥스트랩에서 일을 하고 있습니다.

저는 애플 좋아하고요.

옆에 있는 사진이 애플 스토어 개장한 역사적인 날 사진을 찍었어요. 돈이 없어서 사진 못했는데 그런 사진이고요.

제가 활동한 커뮤니티는 AWS코리아유저그룹에 참관을 하고 있고 개발, 독서를 사용하는 커뮤니티 그리터스에서 활동을 하고 있습니다.

자막을 달아놔서 보실 일이 있으시면 다음에, 보셔도 될 것 같아요.

그리고 제 삽질기를 공유하겠습니다.

그리고 지금부터 밑줄이 그어진 단어들은 다 링크예요.

누르면 관련된 자료를 보실 수 있습니다.

나중에 클릭해 보세요.

제가 왜, 왜 '로그'를 파게 되었을까요.

하필 로그라는 친구들을 파게 되었을까요. 그것부터 설명을 드리겠습니다.

이 모든 것의 시작, 어느 날 회사에서 그런 생각이 들었어요.

'로그를 달아야겠다. ' 코딩을 할 때 로그를 열심히 다는 스타일은 아니거든요.

그런데 어느 날 이런 생각이 들었어요.

저희 내일랩에는 워커라고 불리는 단일 서비스 앱이 있는데 서브 파티 서비스를 활용을 하는데 API를 쓰지 않고 다른 경우는 에러가 간헐적으로 나서 보통은 리트라이를 하는데 리트라이를 그만하자고 생각을 하니까 로그가 없어서 분석이 안 되는 거예요.

그래서 로그를 이제 달아야겠다고 생각을 하게 됩니다.

그래서 두목이라는 사람이랑 대화를 해요.

가칭의 두목이고 저는 두목이라고 하면 되게 이렇게 위아래 관계 같으니까 그냥 DUMOK라고 부를게요.

내일랩 CTO 직책을 맡고 있는 사람입니다.

이분한테 조언을 구했어요. 내가 로그를 달아야 하는데, 두목은 어떻게 생각하세요. 이렇게 물어봤어요.

그런데 마침 이분이 고민을 했던 문제라 얘기를 해줍니다.

사실 두목과 황현태라는 사람은 기술적 격차가 존재하기 때문에 모든 언어를 알아들을 수 없었어요.

그때 저녁 7시 반이었던 거 같은데 키워드들은 기억을 합니다.

핸들 뭐 ~~~ 패키지 곱하고 플론트 이런 얘기를 하길래 속으로 생각했습니다.

'공부를 열심히 해야겠다.' 생각을 합니다.

그래서 OK 로그를 파자고 결정을 하게 됩니다.

그래서 로그를 열심히 팠고, 제가 로그를 파면서 삽질은 이런 식으로, 지식에 대한 삽질은 이런 네 가지 팁을 가지고 하면 괜찮겠다고 정리를 해서 그것과 함께 평소에 몰랐던 재미있는 내용을 소개하겠습니다. 팁1은 모르면 알 때까지 판다.

당연한 얘긴데 저는 그런 사람이 아니였어서

저는 어물쩡 됐다 싶으면 가져다 써요.

파이썬 라이브러리도 그냥 인스톨 되는 거 보고 하면 치고 들어가 이슈가 생기면 도큐먼트를 보는 스타일이라 모르면 알 때까지 파보자라는 생각을 최초로 했습니다.

그래서 생각에 생각에 생각에 생각을 해가지고 결국 도달한 질문은 로그가 뭐지라는 생각이 들었어요.

로그는 왜 로그일까 하필? 이런 생각을 해봤습니다.

TMI라 넘어갈게요.

왜 로그라는 말을 쓰지 내가 아는 로그는 통나무인데?

그런 생각을 해서 찾아봤더니 우측 상단 삼각형이 칩 로그인데 배 속력을 측정하기 위해 사용했던 나무입니다.

이 나무를 띄워놓고 항해를 한 다음에 특정 시간 이후 이 줄의 길이를 측정하면 속력이 나오잖아요.

그런 행위들을 했대요.

속력 기록을 했던 게 로그북이고 일지라는 게 관용적으로 로그북이라고 불리게 되고 로그는 기록이라는 뜻으로 관용적으로 불려서 되게 후련해졌습니다.

로그가 왜 로그인지는 알겠다.

이런 생각이 들었어요.

그리고 팁 2번으로 넘어가면 문서의 중요성

저도 아까도 말했듯이 문서를 되게 열심히 보는 스타일은 아니라 이번에는 문서를 다 읽어보자는 생각을 했습니다.

잘 보이시 않을 수 있는데 혹시 해당하지 않는 항목이 있을까요.

한번 봐주세요.

저는 제가 두서없이 적긴 했는데 저는 첫 번째, 두 번째 거 빼고는 이 문서를 읽기 전까지는 아무것도 몰랐거든요.

그래서 혹시 해당하지 않는 항목들이 있으면 한번 문서를 읽어보시는 것도 좋을 것 같아요.

그래서 저는 파이썬 공식 문서를 읽었습니다.

소프트웨어 재단에서 제공하는 로깅 문서가 많지 않아서 저 순서대로 보면 괜찮더라고요.

로깅 하우투에서는 기본적이고 조금 어려운 구성에 대한 내용도 나오고 쿡북에서는 간단하고 어려운 예제도 나와요.

그리고 우리가 사랑하는 PEP 282가 로깅 문서이고 파이썬 위키에 보면 창조자가 비나이 사이프라는 분인데 이분이 QNA를 해놓은 자료들이 있어요.

그리고 마지막으로 라이브러리 도큐먼트가 있는데 1, 2, 3, 4는 정독을 하려고 노력을 했고 5번은 필요할 때마다 봅니다.

그래서 설계 의도들이 많이 담겨 있어서 좋았던 것 같아요.

다 읽자고 결심을 했고, 읽어봤을 때 되게 새롭게 알게된 게 두 가지가 있어서 발표를 해보겠습니다.

처음 가장 의아했던 거는 함수들이 카멜 케이스로 되어 있는 거예요.

케멀 케이스로 되어 있었어요.

원래 PEP 8번에 의하면 컨벤션은 언더바, 소문자로 함수 정의를 하잖아요.

그래서 확인을 해보니 파이썬의 로깅 패키지가 자바의 로깅 유틸리티에서 빌려왔다고 해요.

그래서 최초 개발자인 비나이 아저씨께서 말을 한 게 큰 빚을 졌다.

이렇게 말하는 게 맞을지 모르겠지만 그런데 완전히 내가 갖다 쓴 건 아닌데 나도 최대한 노력을 하긴 했지만 네가 판단해라고 비나이 아저씨가 적어놨습니다.

그런데 저는 이런 글만 봐도 소름이 돋아요.

창조자의 글이잖아요.

보고 하긴 했는데 뭐 이렇게... 그런

그래서 거기에서 영향을 받았기 때문에 돌이킬 수 없다.

왜냐하면 이미 사람들이 많이 쓰고 있어버렸기 때문에 이것을 바꾸면 혼란을 가져올 수 있다고 해서 PEP8에 보면 홉고블린 관련 얘기가 있습니다.

프로젝트 컨시스턴트 유지가 중요하다고 되어 있고 비나이도 알고 있습니다.

우선순위가 떨어지는 일이라 안 하고 있고 나머지 라이브러리는 맞춰서 작업을 해야지 하고 코멘트를 달은 게 있습니다.

실제로 로그포제이를 보면 기능이 비슷합니다.

그리고 두 번째가 로깅 흐름인데 이거는 로깅을 한다면 반드시 알아둬야 할 개념이라고 생각해요.

그래서 이게 뭐냐하면 아시는 분들은 다 아시겠지만 로거를 호출하고 나서 로그 레코드가 언제 생기고 핸들러, 필터 언제 걸리고 포메터가...

이런 과정 플로어를 만들어놓은 건데 이걸 알아야 로그의 타이밍, 아니면 로그 핸들러를 만들거나 할 때 어떤 타이밍에 내가 치고 들어갈지 알 수 있고 계획을 세울 수 있다고 생각합니다.

그래서 슬라이드를 넣어봤습니다.

그리고 다시 두목이 핸들러 형태로 만들어야지 이런 얘기를 했습니다.

그런데 이제 이해가 되는 겁니다.

내가 하는 일이 로그를 어떻게 잘 달고 이것도 있지만 내가 해야 하는 일은 핸들러를 만들어서 내가 원하는 도착지로 로그를 보내는 것.

우리 회사만의 핸들러를 만들어야 한다 이렇게 정리가 되었습니다. 공부를 하다 보니까

그리고 넘어가서 코드 리뷰, 한 줄 한 줄 적었는데 파이썬 로깅 패키지를 뜯어보기로 했습니다.

회사에서 코드 리뷰를 하듯이 파악을 해보자고 결심을 했습니다.

그래서 좋았던 점은 로깅 패키지에 대해서 알게 됐는데 전공자는 아니지만 이 로깅 패키지를 이해하기 위해서 덤으로 얻게 된 지식들이 되게 많았어요.

그래서 그것들을 정리를 해봤습니다.

먼저 파이썬 코드를 한번 볼게요.

로깅 패키지에 겟레벨네임이라는 함수가 있어요. 제일 처음 등장하는 함수인데 이 친구들은 딱 보면 레벨 넣으면 레벨네임을 주는데 거꾸로 레벨네임을 넣어도 레벨을 줍니다.

빨간색을 주면 파란색을 줄 거 같은데 파란색을 줘도 빨간색을 줍니다.

우리 회사에서 코드 리뷰를 하면 세 가지 정도 코멘트로 걸릴 거 같아요.

왜 이렇게 이름을 짰어요?

그리고 PEP 8을 안 지켰네요. 정도

그런 코멘트가 달릴 거 같은데 이 대단한 패키지에 이런 게 있을까 의문을 가집니다. 왜 양방향 동작일까

그리고 주석을 보니까 이슈 몇 번, 몇 번을 참고하라고 해서 처음으로 파이썬 버그 트래커를 보게 됩니다.

이 이슈를 보고 코드의 탄생 배경을 알 수 있겠구나 생각이 들어서 이슈 2, 3, 8, 6을 보게 되었습니다.

텍스트를 많이 적어놨는데 결국은 원래는 매핑 딕셔너리가 네임에서 레벨이 합쳐져 있었어요.

그런데 비나이 님께서 이걸 나눴어요.

그리고 그분도 레벨 넣었을 때 레벨네임이 나와야 하니까

그리고 그 밑에 이슈가 나는 잘 쓰고 있던 함수인데 네가 바꿔서 나는 레벨 네임을 넣었을 때 레벨을...

그래서 미안하다고 하면서 보완을 합니다.

그래서 이 함수가 양방향 동작을 하게 된 겁니다.

요구사항에 의해서 튜닝이 된 케이스더라고요.

이런 것들을 찾아보는 게 재미있었어요. 재미있지 않습니까? 비밀 같은 걸 찾는 거?

그리고 하나 또 알게 된 게 겟로거라는 함수, 이 친구는 왜 PEP 8 안 맞추는지 알았죠.

이 친구는 하나의 인스턴스만 반환한다는 걸 알게 됐어요. 같은 로거네임이면

함수를 자세히 보면 이 함수가 로거 객체를 반환하는 함수인데 입력된 이름에 대한 로거 객체 반환을 하는데 같은 이름으로 여러 번 호출해도 이 친구는 생성해서 반환하지 않고 그 인스턴스를 찾아서 반환을 합니다.

싱글턴 패턴으로 구현이 되어 있고 PEP 282 문서를 보면 당연하게 밀고 나가고 있어요.

그리고 구글링을 해보면 스텝오버플로에 로거 어떻게 싱글턴 구성을 하지?

그러면 답글에 되게 단호하게 이 친구는 이미 구현이 되어 있기 때문에 그럴 필요 없다고 강력하게 말을 하는데 안쪽을 보니까 이해가 되더라.

그래서 이거는 시간 나실 때 보셔도 될 것 같아요.

로거 딕트라는 레지스트리에 저 이름에 로거 객체가 이미 있으면 그거 반환하게 되어 있고 밑에는 없는 거면 생성을 하게 되어 있는 이런 코드가 있습니다.

이 외에도 덤으로 알게 된 지식이 되게 많아요.

스레드에 대한 개념, 로그 패키지 내에서 스레드의 역할, 가상 메모리에 대한 개념.

로그 패키지를 이해하려면 다 알아야 하더라고요. 되게 당황스러웠고 그리고 재미있는 TMI, 파이파이 아시죠.

이거를 파이파이로 읽을까 파이 피 아이로 읽을까?

되게 논쟁을 많이 했더라고요. 파이썬 코어 개발자들이

그래서 결론은...

한번 찾아보십시오.

-함께: (웃음)

-너무 쉬운 답이라 이거는 보너스로...

그리고 네 번째 팁, 스터디, 스프린트, TIL 끊임없는 공부와 기록이라는 부재를 붙였는데 이것들에 대해서 이야기를 해보겠습니다.

저는 책이랑 강의로 지식을 얻을 때 원래 혼자 공부를 하다가 언젠가 스터디 모임을 활용하기 시작했습니다. 총 3개 스터디 모임에 참여를 하거나 했어요.

첫 번째는 혜움세무회계라는 IT세무혁신을 가지고 오고 있는 이 회사에서 하고 진행하는 스터디가 있어요. 장고 스터디를 16주째 하고 있어요.

장고하시는 분들이면 알 거예요. 노란색 책을 가지고 16주째 진행을 하고 있고 그리고 러닛이라는 독특한 유료 스터디가 있더라고요. 유료로 하는 스터디인데 6주 정도 했어요.

좋았던 게 스터디는 비슷한 사람들끼리 모여서 하는데 모임장이 시니어 개발자라 애정이 있어서 과외 받는 느낌으로 했었고 마지막은 전형적인 스터디, 주니어들 모여서 독서, 코딩, 강의 하고 매주 토요일

오늘도 끝나면 모임이 있는데 그리터스라는 스터디 모임을 활용하고 있습니다.

같이 하면 더 쉽다는 그냥 적어놓은 거고요.

꾸준히 할 수 있는 거 같아요. 같이 하면

불편한 사람이 조금 있어야 꾸준해지는 거 같아요. 무서운 분들이 가끔 있거든요. 넘어갈게요.

그리고 스프린트, 앞에 계시는 분들이랑 같이 했었는데 지난 12월 16일 스프린트를 한다라는 공지를 받고 하러 달려갔어요.

그래서 5명에서 스프린트를 했는데 판다스 2명, 장고 3명인데 저는 스프린트가 뭔지 몰랐거든요.

올해 파이콘 때 발표를 하나 들어서 개념이 생긴 게 같은 장소에 관심 있는 사람이 모여서 한 오픈소스 프로젝트에 기여하는 모임이다.

그래서 결과부터 말하면 저는 장고 개발자인데 장고 프로젝트에 글을 쓰면 컨트리뷰터라고 붙어요.

감격스러운 순간이죠.

행복한 순간이고, 이거 볼 때마다 행복해요.

그런데 제가 실제로 한 일은 오타를 수정했어요.

두 군데의 오타를 수정했고 그 중에서 하나는 빠꾸를 먹었어요.

그런데 제가 액티브하게 활동하는 팀그레이라는 코어 개발자가 두 번째 거는 그렇지 않냐?라고 해서 일단 저도 빠르게 취소한 다음에 되게 격식 있게 코멘트를 달았습니다.

항상 보면 저만 격식이 있습니다.

그래서 고맙고 뭐 다시 확인해 주시겠어요?

상사 느낌으로...

그리고 성공적으로 머지가 되었고 다른 사람이 나와서 땡스 포 인풋 캔디팝라테라고 지구 반대편에서 감사 인사를 전했어요.

뭘 고맙다는 건지 잘 모르겠지만 고맙다고 해서 장고 커뮤니티의 일원이 되었구나 좋다 이런 생각을 했습니다.

그리고 삽질도 계속되죠.

새로운 ... 되게 흥분해가지고 이거 버그 다 고쳐야겠다고 해서 흥분하고 새롭게 날렸는데 되게 많이 ... 많이가 아니라 되게... 일주일 정도 있다 빠꾸 코멘트가 와서 저도 진지하게 코멘트를 달았어요. 어떻게 할까 하고

그런 재미있는 일들을 했어요.

마지막으로 TIL인데요.

TIL 하시는 분들 있습니까?

되게 많으시네요.

두 분이나 계시네요.

이거를 저는 처음에 Github에 올렸는데 의지가 안 생겨서 블로그로 하기 시작했어요.

그래서 오른쪽에 보이는 게 블로그를...

캡쳐를 한 건데 11월 12일부터 시작을 했어요.

한 달 조금 넘었는데 처음에는 하루에 하나씩 하다가 그다음에는 일주일에 2, 3개 했는데 도움이 됐던 게 로깅 같이 꾸준히 파는 게 있으니까 기록할 게 많아서 꾸준히 파게 되고 기록할 게 많아서 파게 되고 선순환이 되더라고요.

TIL은 꾸준함을 가져갈 수 있게 해줬습니다.

그래서 여러분도 이거 꼭 하십시오.

특히 블로그까지 하면 귀찮지만 TIL은 권장합니다.

이제 발표가 막바지인데요.

팁 4개를 가지고 왔고, 저는 이 팁...

원래 이렇게 살지 않았지만 어쨌든 이런 팁을 알게 되었습니다.

그리고 후기, 간단합니다.

정말 좋은 시간이었다. 이 정도로 마무리가 되었고 드디어 끝났네요.

발표를 들어주셔서 정말 감사합니다.

그래서 삽질은 2019년에도 계속됩니다.

뒤에 배경으로 슬쩍 넣었는데 저희가 구현하고 있는 로깅 파이프라인을 슬쩍 넣었어요. 아까 학습 과정이랑 별개로 겉핥기 식으로 타타타닥 준비를 했어요. 여기 계신 분들이랑 같이 준비를 해서

저희가 구현 중인 파이프라인의 구성입니다.

정말 이제 발표가 끝났네요.

Q&A 질문 있으시면 해 주십시오.

발표 끝났습니다.

-함께: (박수)

-혹시 질문 있으신가요?

질문... 소리가 왜 이렇게 작지?

질문 없으신가요? 질문?

질문 하시는 분에게 이 책 한 권 드리겠습니다.

-저는 이 책 샀어요.

되게 좋더라고요.

-어, 네!

-그러면 이걸로 이렇게...

-발표 잘 들었습니다.

그런데 발표 내용 중에 삽질이라고 생각하는 부분은 어디라고 저희가 알면 될까요.

-삽질은 뭔가를 파고 내려간다는 뜻이잖아요.

지식을 계속 파고 내려간 거죠. 제가

삽질이 안 좋은 의미라고 공감하지는 못하겠습니다만 군대에서는 그렇다고 하는데 군대는 안 다녀왔거든요.

그래서 좋은 의미라고 생각해서 신청했습니다.

-감사합니다.

-좋은 내용...

-질문이 없으면 여기서 첫 번째 발표를 마치겠습니다.

큰 박수 부탁드립니다.

-함께: (박수)

-그리고 발표 자료는 지금 페스타 본문에다 링크를 걸어놨거든요.

그래서 거기에서 발표하시는 내용 보면서 같이 슬라이드도 보시면 됩니다.

참고해 주시고, 두 번째 발표 넘어가기 전에 한 10분 정도 쉴까요?

-함께: 네.

-재미있게 쉬다 오시기 바랍니다.