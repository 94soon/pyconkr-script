다음은 배상윤 님이 발표를 해주실 예정이시고요. 

여기 계시죠. 앞으로 나와주시고요. 발표제목은 보토쓰리로 AWS리소스 관리해보기. 박수 부탁드립니다.

(박수)

-안녕하세요? boto3로 AWS 리소스 관리해보기라는 발표를 할 배상윤입니다.

이 발표에서는 파이썬 boto3를 활용해서 AWS의 EC2, 로드밸런서, 

RDS를 조작하고 그걸 슬랙으로 써본 경험에 대해서 이야기해보겠습니다.

저희 팀에서 얼마 전에 론칭한 사물함호랑이라는 서비스가 있는데 대학교에서 대학생들이 사물함을 신청할 때 

기존에는 네이버카페에 댓글로 달거나 이런 식으로 해서 학생회 사람들은 그거를 다 리스트를 봐서 취합을 해서 사물함을 배치를 하고 그거를 공지를 했어야 됐어요.

물론 이 서비스에는 파이썬을 쓰지는 않았는데 파이썬은 어디서 썼냐 하면 boto3에 썼습니다. 

파이썬으로 AWS리소스를 관리할 수 있는 패키지인데요.

왜 쓰게 되었나에 대해서 먼저 알려드릴게요.

사물함서비스 특성상 좋은 사물함 자리를 쓰기 위한 경쟁이 많아요.

예를 들어서 키 작은 사람이 윗자리를 쓰거나 하면 책 꺼내기 힘들잖아요. 

그래서 맨날 자리에 대한 불만이 많습니다. 

그래서 저희가 시범으로 한번 돌려봤을 때 시작 후 5분 이내에 트래픽이 80%가 물렸어요.

그래서 낮은 인스턴스에서 서비스를 하게 되면 웹서버에서 500이 떠서 짜증나게 됩니다.

그래서 이 문제를 해결하기 위해서 시작 전에 로드밸런서에 높은 인스턴스를 여러 개 붙여놓고 

DB도 더 큰 DB를 쓰고 끝나면 해제를 하고 이렇게 하면 될 거라고 생각을 했습니다.

그런데 이거를 손으로 하게 되면 AWS콘솔에 로그인을 해서 변경을 하고 등록을 하고, 

또 공지를 올리고 이런 거를 수작업을 했어야 했어요.

그런데 이거를 맨정신에 할 수 없겠다는 생각을 들어서 자동화 해보자는 생각을 했습니다.

그래서 이런 어흥봇이라는 귀여운 이름의 슬랙봇을 하나 만들게 되었습니다.

그래서 이렇게 오른쪽에 코드를 써서 AWS 람다에서 보토3를 활용해서 

인스턴스를 바꾸는 동안 이렇게 서버에 점검공지를 띄우고 DB인스턴스 변경 요청을 성공했다, 이런 식의 로그를 띄우게 됩니다.

그래서 사용한 기술은 AWS람다, API게이트웨이, 슬랙 스매시 커맨더를 사용해서 서버 확장과 축소 진행을 바로 알 수 있게 됩니다.

그래서 코드는 뭐 자세히는 안 볼 건데 이렇게 간단하게 할 수 있습니다.

이렇게 보시면 지금 AWS에서 내가 사용하고 있는 인스턴스들의 리스트를 얻어와서 

인스턴스를 추가로 하거나 삭제를 하거나 정지하거나 이렇게도 할 수 있습니다.

그래서 보토3 코드를 보면 AMI라고 이지 투 인스턴스에서 이미지를 미리 만들어놓습니다. 

그리고 그걸 가지고 인스턴스를 여러 개 생성을 한 다음에 로드밸런서에 붙이게 되고 

이런 식으로 완전 자동화 해서 디플로이를 할 수 있게 됩니다.

이전에 제가 수동으로 했을 때 랑 많이 달라진 점은 복잡한 작업을 손으로 하지 않아도 됩니다.

이게 옛날에는 한번 "시작할게." 하면 "어, 나 하고 있어." 하고 인스턴스를 띄우거나 하면 조금 걸리잖아요.

 그러면 이러고 있어야 되고 그래서 되게 팀적으로 안 좋은 일이 많았는데 
 
 팀원 전체가 지금은 무슨 일이 일어나고 있는지 알 수 있습니다.

저기 보시면 아시겠지만 다른 사람들이 열심히 댓글을 달아놨죠.

잘하고 있구나, 이렇게. 알 수 있게 됩니다.

발표가 짧았는데 이 발표 내용보다는 지금 사물함호랑이는 지금 두 번째 학기를 맞이하고 있는데요.

카카오톡 플친에 검색해주시면 바로 서비스를 만나보실 수 있습니다. 
 
 대학생 여러분들의 많은 관심 바랍니다. 감사합니다. (박수)

-(사회자) 제가 아까부터 계속 저기로 왔다 갔다 하고 있는데요. 이게 제일 힘드네요. 

그래서 저도 계단을 이용해보았습니다.

이제 라이트닝토크는 두 분 남으셨어요.

자, 발표자료가 준비가 조금 시간이 걸릴 것 같은데요. 어제도 보셨던 귀여운 동물들이 여기에 있습니다. 

돌아가고 있고요. 사실 저는 오늘 이 발표자료를 제가 준비를 할 때 고양이 대신 개를 넣고 싶었는데요. 

왜냐하면 저희 집에 강아지가 있거든요.

그런데 너무 할머니 강아지셔서...

제가 지금 무슨 말을 하는 걸까요? (웃음)

감사합니다.... 아직이군요?

그러면 잠시 인터뷰를 해볼까요?

박진영 님? 죄송합니다. 인터뷰를... 긴장을 풀어드리려고 인터뷰를 해보려고 하는데요. 

혹시 자원봉사자로 참여해보셨는데 어떠셨나요?

